@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 96%; /* Light gray background #f5f5f5 */
    --foreground: 0 0% 15%; /* Dark text for contrast */
    --card: 0 0% 100%; /* White cards for contrast */
    --card-foreground: 0 0% 15%; /* Dark text on cards */
    --popover: 0 0% 100%; /* White popover */
    --popover-foreground: 0 0% 15%; /* Dark text */
    --primary: 21 100% 50%; /* #ff6000 - Bright orange */
    --primary-foreground: 0 0% 100%; /* White text on orange */
    --secondary: 0 0% 90%; /* Light gray for secondary elements */
    --secondary-foreground: 0 0% 15%; /* Dark text */
    --muted: 0 0% 93%; /* Brighter gray for muted elements */
    --muted-foreground: 0 0% 40%; /* Medium gray text */
    --accent: 0 0% 93%; /* Brighter gray for accents */
    --accent-foreground: 0 0% 15%; /* Dark text */
    --destructive: 0 70% 80%; /* Red pastel #f5a3a3 */
    --destructive-foreground: 0 70% 25%; /* Dark red text */
    --error: 0 80% 50%; 
    --error-foreground: 0 70% 25%; /* Dark red text  MODIFICAR */
    --success: 120 60% 80%; /* Green pastel #a3d9a3 */
    --success-foreground: 120 60% 25%; /* Dark green text */
    --warning: 45 90% 80%; /* Yellow pastel #f5e6a3 */
    --warning-foreground: 45 90% 25%; /* Dark yellow text */
    --border: 0 0% 85%; /* Light gray borders */
    --input: 0 0% 85%; /* Light gray inputs */
    --ring: 21 100% 50%; /* Orange focus ring */
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 20%; /* Dark gray background #333333 */
    --foreground: 0 0% 95%; /* Light text */
    --card: 0 0% 25%; /* Darker gray cards #404040 */
    --card-foreground: 0 0% 95%; /* Light text on cards */
    --popover: 0 0% 25%; /* Dark popover */
    --popover-foreground: 0 0% 95%; /* Light text */
    --primary: 21 100% 55%; /* Slightly brighter orange for dark mode */
    --primary-foreground: 0 0% 100%; /* White text */
    --secondary: 0 0% 30%; /* Dark gray secondary */
    --secondary-foreground: 0 0% 95%; /* Light text */
    --muted: 0 0% 35%; /* Brighter dark gray */
    --muted-foreground: 0 0% 70%; /* Light gray text */
    --accent: 0 0% 35%; /* Brighter dark gray */
    --accent-foreground: 0 0% 95%; /* Light text */
    --destructive: 0 60% 70%; /* Red pastel for dark mode */
    --destructive-foreground: 0 0% 95%; /* Light text */
    --success: 120 50% 70%; /* Green pastel for dark mode */
    --success-foreground: 0 0% 95%; /* Light text */
    --warning: 45 80% 70%; /* Yellow pastel for dark mode */
    --warning-foreground: 0 0% 95%; /* Light text */
    --border: 0 0% 40%; /* Dark gray borders */
    --input: 0 0% 40%; /* Dark gray inputs */
    --ring: 21 100% 55%; /* Orange focus ring */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    overscroll-behavior: none;
    height: 100%;
    overflow-x: hidden;
  }
  
  body {
    @apply bg-background text-foreground;
    touch-action: manipulation;
    overscroll-behavior: none;
    position: fixed;
    width: 100%;
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100); /* Use JS-calculated viewport height */
    overflow-x: hidden;
    overflow-y: auto;
  }
  
  #__next {
    height: 100%;
    overflow-x: hidden;
  }
}

/* Custom utility classes for status colors */
@layer utilities {
  .text-success {
    color: hsl(var(--success-foreground));
  }
  .bg-success {
    background-color: hsl(var(--success));
  }
  .border-success {
    border-color: hsl(var(--success));
  }

  .text-warning {
    color: hsl(var(--warning-foreground));
  }
  .bg-warning {
    background-color: hsl(var(--warning));
  }
  .border-warning {
    border-color: hsl(var(--warning));
  }

  .text-error {
    color: hsl(var(--error));
  }
  .bg-error {
    background-color: hsl(var(--destructive));
  }
  .border-error {
    border-color: hsl(var(--error));
  }
}

/* PWA specific styles */
@media (display-mode: standalone) {
  html {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
  }
  
  body {
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    height: 100vh !important;
    height: calc(var(--vh, 1vh) * 100) !important;
  }
  
  /* Force recalibration after PWA navigation */
  .pwa-recalibrate {
    height: 100vh !important;
    height: calc(var(--vh, 1vh) * 100) !important;
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .container {
    @apply px-4 max-w-full;
    width: 100% !important;
    overflow-x: hidden;
  }
  
  /* Prevent horizontal scroll */
  * {
    max-width: 100vw;
    box-sizing: border-box;
  }
  
  /* Fix viewport issues */
  body {
    width: 100vw !important;
    overflow-x: hidden !important;
  }
}
